<div style="text-align:center;">
    <h1>All Students</h1>
</div>

<div class="container">
  <div class="row">
    <button type="button" class="btn btn-primary col-md-6 col-md-offset-3" data-toggle="collapse" data-target="#student-create-content">Add a Student</button>
  </div>
  <div id="student-create-content", class= "collapse">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="form">
          <%= form_for :student, url: students_path do |f| %>
            <p>
              <%= f.label :first_name %>
              <%= f.text_field :first_name, id:"name", class: 'form-control',:required => true%>
            </p>
          
            <p>
              <%= f.label :last_name %>
              <%= f.text_field :last_name, id:"name", class: 'form-control',:required => true%>
            </p>
  
            <p>
              <%= f.label :email %>
              <%= f.text_field :email, id:"email", class: 'form-control',:required => true%>
            </p>
  
            <p>
              <%= f.label :course_number %><br>
              <%= f.collection_select :course_num, @courses, :number, :number,{ id:"course_num", prompt: "Select a Course Number"}, {class: "form-control", :required => true} %>
            </p>
  
            <p>
              <%= f.submit 'Submit', :id=>"submit", class: "btn btn-primary" %>
            </p>
            
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<p></p>

<div class="container">
  <div class="row">
    <button type="button" class="btn btn-primary col-md-6 col-md-offset-3" data-toggle="collapse" data-target="#student-roster-content">Import a Roster</button>
  </div>
    <div id="student-roster-content", class= "collapse">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="form">
          <%= form_for :roster, html: { multipart: true }, url: rosters_path do |f| %>

            <%= f.label :course_num %>
            <%= f.collection_select :course_num, @courses.select(:number).uniq, :number, :number,{ id:"course_num", prompt: "Select a Course Number"}, {class: "form-control", :required => true} %>

              <%= f.label :course_year %>
              <%= f.collection_select :course_year, @courses.select(:year).uniq, :year, :year,{ id:"course_year", prompt: "Select the year of the course"}, {class: "form-control", :required => true} %>

              <%= f.label :course_session %>
              <%= f.collection_select :course_session, Course.getSessions, :strip, :strip,{ id:"course_session", name:"course_session", prompt: "Select a semester"}, {class: "form-control", :required => true} %>

              <%= f.label :attachment %>
              <%= f.file_field :attachment, id:"roster", class: 'form-control', :required => true %>
              <%= f.submit "Import Roster", class: "btn btn-primary" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="subm-show-content">
  <table style = "width: 80%">
    <thead >
      <tr>
        <th>Course Name</th>
        <th>Student Name</th>
        <th>Student Email</th>
      </tr>
    </thead>
        <tr>
           <% @courses.each do |course| %>
               <td id= "course_name_num"><%= course.name + (" ") + course.number.to_s %></td>
               <td id="remove_border_line"></td>
               <td id="remove_border_line"></td>
        </tr>
            <% course.students.each do |c| %>
            <tr>
               <td id="remove_border_line"></td>
               <td style = "text-align:center"><%= c.first_name %> <%= c.last_name %></td>
               <td style = "text-align:center"><%= c.email %></td>
            </tr>
            <% end %>
         <% end %>
  </table>

  <div style="text-align:center;">  
    <%= link_to 'Home', root_path %> 
  </div>
</div>
